# üì¶ **package.json - Complete Learning Guide**

## üéØ **What is package.json?**
This file is the **heart** of your project. It tells Node.js:
- What your project is called
- Which libraries (packages) your project needs
- What commands you can run
- Which versions of packages to use

---

## üìú **SCRIPTS - Commands You Can Run**

```bash
npm run dev
```
**What it does:** Starts development server on port 4000  
**When to use:** While coding (auto-refreshes when you save files)  
**Flag `--turbopack`:** Uses Rust-based bundler (10x faster than Webpack)  
**Flag `-p 4000`:** Run on port 4000 instead of default 3000

```bash
npm run build
```
**What it does:** Creates optimized production version  
**When to use:** Before deploying to production  
**Result:** Creates `.next` folder with optimized code

```bash
npm run start
```
**What it does:** Runs the production build locally  
**When to use:** After `npm run build` to test production version

```bash
npm run lint
```
**What it does:** Checks your code for errors and style issues  
**When to use:** Before committing code

---

## üìö **DEPENDENCIES - Packages Your App Needs**

### **‚öõÔ∏è CORE FRAMEWORK (Required for everything)**

```json
"next": "15.5.4"
```
**What:** Next.js framework (React with superpowers)  
**Why:** Handles routing, server-side rendering, API routes  
**Size:** Large (the foundation)

```json
"react": "19.1.0",
"react-dom": "19.1.0"
```
**What:** React library (builds user interfaces)  
**Why:** The UI library that powers everything  
**Size:** ~130KB

---

### **üîê AUTHENTICATION (NEW - Connect to Your Backend)**

```json
"next-auth": "^5.0.0-beta.22"
```
**What:** Complete authentication system  
**Why:** Handles login, logout, sessions, JWT tokens  
**Features:**
- Multiple login providers (Google, GitHub, Email/Password)
- Session management
- JWT token handling
- Protected routes
**Size:** ~150KB  
**Usage Example:**
```typescript
import { signIn, signOut } from 'next-auth/react'
signIn('credentials', { email, password })
```

---

### **üåê API COMMUNICATION (NEW - Talk to Your NestJS Backend)**

```json
"@tanstack/react-query": "^5.56.2"
```
**What:** Smart data fetching & caching library  
**Why:** Manages server data, automatic caching, refetching  
**Features:**
- Automatic background refetching
- Cache management
- Loading/error states
- Request deduplication
**Size:** ~50KB  
**Usage Example:**
```typescript
const { data, isLoading } = useQuery({
  queryKey: ['users'],
  queryFn: () => axios.get('/api/users')
})
```

```json
"axios": "^1.7.7"
```
**What:** HTTP client for making API calls  
**Why:** Talk to your NestJS backend (GET, POST, PUT, DELETE)  
**Size:** ~13KB  
**Usage Example:**
```typescript
// Login to your backend
const response = await axios.post('http://localhost:3001/auth/login', {
  email: 'user@example.com',
  password: 'password123'
})
```

---

### **üóÑÔ∏è STATE MANAGEMENT (NEW - Share Data Between Components)**

```json
"zustand": "^4.5.5"
```
**What:** Simple global state management  
**Why:** Share data between components without prop drilling  
**Size:** ~4KB (tiny!)  
**Usage Example:**
```typescript
// Create store
const useStore = create((set) => ({
  user: null,
  setUser: (user) => set({ user })
}))

// Use anywhere
const user = useStore((state) => state.user)
```

---

### **üé® UI COMPONENTS (Headless & Accessible)**

```json
"@headlessui/react": "^2.2.9"
```
**What:** Unstyled, accessible UI components  
**Why:** Dropdown menus, dialogs, tabs that work for everyone  
**Size:** ~15KB

```json
"@radix-ui/react-*": "Various versions"
```
**What:** Professional accessible components  
**Components:**
- `react-avatar` - User profile pictures
- `react-dialog` - Modal windows/popups
- `react-dropdown-menu` - Dropdown menus
- `react-label` - Form labels
- `react-select` - Select dropdowns
- `react-slot` - Component composition
- `react-tabs` - Tab navigation
- `react-toast` - Notification toasts
- `react-tooltip` - Hover tooltips

**Why:** Used by Vercel, Linear, GitHub (enterprise-grade)  
**Size:** ~5-10KB each

---

### **üé® STYLING UTILITIES**

```json
"class-variance-authority": "^0.7.1"
```
**What:** Manage component variants (different styles)  
**Why:** Create button variants: primary, secondary, danger  
**Size:** ~4KB  
**Usage:**
```typescript
const button = cva("base-button", {
  variants: {
    color: {
      primary: "bg-blue-500",
      danger: "bg-red-500"
    }
  }
})
```

```json
"clsx": "^2.1.1"
```
**What:** Conditionally join CSS classes  
**Why:** Apply classes based on conditions  
**Size:** ~1KB (tiny!)  
**Usage:**
```typescript
clsx("btn", isActive && "active", "text-white")
// Result: "btn active text-white"
```

```json
"tailwind-merge": "^3.3.1"
```
**What:** Merge Tailwind classes intelligently  
**Why:** Prevent class conflicts  
**Size:** ~10KB  
**Usage:**
```typescript
twMerge("px-2 py-1", "px-4") 
// Result: "py-1 px-4" (px-2 removed, px-4 wins)
```

---

### **‚ú® ANIMATIONS**

```json
"framer-motion": "^12.23.22"
```
**What:** Production-ready animation library  
**Why:** Smooth page transitions, hover effects, loading states  
**Size:** ~40KB  
**Usage:**
```typescript
<motion.div
  initial={{ opacity: 0 }}
  animate={{ opacity: 1 }}
  transition={{ duration: 0.5 }}
>
  Content
</motion.div>
```

---

### **üç™ UTILITIES**

```json
"js-cookie": "^3.0.5"
```
**What:** Simple cookie management  
**Why:** Store JWT tokens, user preferences  
**Size:** ~2KB  
**Usage:**
```typescript
Cookies.set('token', 'abc123')
const token = Cookies.get('token')
```

---

### **üé® ICONS**

```json
"lucide-react": "^0.544.0"
```
**What:** 1000+ modern icons  
**Why:** Consistent, beautiful icons for your UI  
**Size:** ~50KB (tree-shakeable - only loads icons you use)  
**Usage:**
```typescript
import { User, Settings, LogOut } from 'lucide-react'
<User size={24} />
```

---

### **üìä CHARTS & DATA VISUALIZATION**

```json
"recharts": "^3.2.1"
```
**What:** React chart library  
**Why:** Display analytics, dashboards, metrics  
**Size:** ~100KB  
**Usage:**
```typescript
<LineChart data={data}>
  <Line dataKey="value" />
</LineChart>
```

---

### **üìù FORMS & VALIDATION (NEW - Handle User Input)**

```json
"react-hook-form": "^7.53.2"
```
**What:** Performance-focused form library  
**Why:** Handle login forms, registration, user input  
**Size:** ~20KB  
**Features:**
- Fast (minimal re-renders)
- Built-in validation
- Works with Zod
**Usage:**
```typescript
const { register, handleSubmit } = useForm()
<input {...register("email")} />
```

```json
"zod": "^3.23.8"
```
**What:** TypeScript-first schema validation  
**Why:** Validate user input, API responses  
**Size:** ~15KB  
**Usage:**
```typescript
const loginSchema = z.object({
  email: z.string().email(),
  password: z.string().min(8)
})
```

```json
"@hookform/resolvers": "^3.9.1"
```
**What:** Connects react-hook-form + Zod  
**Why:** Use Zod validation with forms  
**Size:** ~3KB

---

### **üìÖ DATE UTILITIES**

```json
"date-fns": "^4.1.0"
```
**What:** Modern date utility library  
**Why:** Format dates, calculate time differences  
**Size:** ~10KB (tree-shakeable)  
**Usage:**
```typescript
import { format, differenceInDays } from 'date-fns'
format(new Date(), 'yyyy-MM-dd')
```

---

## üõ†Ô∏è **DEV DEPENDENCIES - Tools for Development**

```json
"@types/node": "^20",
"@types/react": "^19",
"@types/react-dom": "^19",
"@types/js-cookie": "^3.0.6"
```
**What:** TypeScript type definitions  
**Why:** Get autocomplete and type checking  
**When:** Only during development

```json
"eslint": "^9",
"eslint-config-next": "15.5.4"
```
**What:** Code quality checker  
**Why:** Find bugs, enforce coding standards  
**When:** Run `npm run lint`

```json
"tailwindcss": "^4",
"@tailwindcss/postcss": "^4"
```
**What:** Utility-first CSS framework (LATEST v4)  
**Why:** Style your app with utility classes  
**Size:** Only includes classes you use

```json
"typescript": "^5"
```
**What:** JavaScript with types  
**Why:** Catch errors before runtime  
**When:** Compiles during build

---

## üì¶ **WHAT'S ADDED (vs Original qk-test)**

### **üÜï NEW PACKAGES:**
‚úÖ `next-auth` - Authentication system  
‚úÖ `@tanstack/react-query` - Smart data fetching  
‚úÖ `zustand` - State management  
‚úÖ `react-hook-form` - Form handling  
‚úÖ `zod` - Input validation  
‚úÖ `@hookform/resolvers` - Form + Zod integration  
‚úÖ `date-fns` - Date utilities  
‚úÖ `@types/js-cookie` - Cookie types

### **üìà UPGRADED PACKAGES:**
‚úÖ `axios` - Updated to latest version

---

## üéØ **NEXT STEP: Install New Packages**

Run this command to install all the new packages:

```bash
cd qk-test
npm install
```

This will download all missing packages and update package-lock.json.

---

## üîó **How Packages Work Together**

### **User Login Flow Example:**
```
1. User submits login form
   ‚Üì (react-hook-form + zod validates input)
   
2. Call backend API
   ‚Üì (axios sends request to NestJS)
   
3. Backend returns JWT token
   ‚Üì (next-auth stores session)
   
4. Token stored in cookie
   ‚Üì (js-cookie manages cookies)
   
5. Fetch user data
   ‚Üì (@tanstack/react-query caches data)
   
6. Store user in global state
   ‚Üì (zustand shares across components)
   
7. Show dashboard
   ‚Üì (framer-motion animates transition)
```

---

## üìù **REMEMBER:**

- **dependencies** = Needed in production (when users use your app)
- **devDependencies** = Only needed during development
- `^` symbol = Accept minor updates (1.2.3 ‚Üí 1.9.9 ‚úÖ, 2.0.0 ‚ùå)
- After adding packages, run `npm install`
- Total bundle size: ~500KB (after compression)

---

**Next file to learn:** `tsconfig.json` (TypeScript configuration)  
**Or jump to:** `src/app/layout.tsx` (Root of your application)
