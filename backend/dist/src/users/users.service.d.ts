import { PrismaService } from '../prisma/prisma.service';
import { User, UserRole, UserStatus } from '@prisma/client';
import { CreateUserDto, UpdateUserDto, UserResponseDto } from './dto/user.dto';
export declare class UsersService {
    private prisma;
    constructor(prisma: PrismaService);
    create(createUserDto: CreateUserDto): Promise<UserResponseDto>;
    findAll(tenantId: string): Promise<UserResponseDto[]>;
    findOne(id: string): Promise<UserResponseDto>;
    findByEmail(email: string): Promise<User | null>;
    update(id: string, updateUserDto: UpdateUserDto): Promise<UserResponseDto>;
    remove(id: string): Promise<void>;
    updateRole(id: string, role: UserRole): Promise<UserResponseDto>;
    updateStatus(id: string, status: UserStatus): Promise<UserResponseDto>;
    getInternalUsers(tenantId: string, filters?: any): Promise<({
        tenant: {
            id: string;
            name: string;
            maxUsers: number | null;
            maxProjects: number | null;
            isActive: boolean;
            createdAt: Date;
            updatedAt: Date;
            slug: string;
            domain: string | null;
            status: import("@prisma/client").$Enums.TenantStatus;
            isTrial: boolean;
            trialExpiresAt: Date | null;
            mfaRequired: boolean;
            passwordPolicy: import("@prisma/client/runtime/library").JsonValue;
            sessionTimeout: number;
            complianceFrameworks: string[];
            dataResidency: string | null;
            apiQuotaDaily: number;
            webhookUrl: string | null;
            settings: import("@prisma/client/runtime/library").JsonValue;
            deletedAt: Date | null;
            planId: string | null;
        };
        department: {
            id: string;
            name: string;
            description: string | null;
            isActive: boolean;
            createdAt: Date;
            updatedAt: Date;
            tenantId: string;
            parentId: string | null;
            costCenter: string | null;
            manager: string | null;
        } | null;
    } & {
        id: string;
        name: string | null;
        displayName: string | null;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.UserStatus;
        deletedAt: Date | null;
        email: string;
        firstName: string;
        lastName: string;
        avatar: string | null;
        title: string | null;
        phone: string | null;
        password: string | null;
        passwordHash: string | null;
        isEmailVerified: boolean;
        isVerified: boolean;
        emailVerificationToken: string | null;
        passwordResetToken: string | null;
        passwordResetExpiresAt: Date | null;
        lastLoginAt: Date | null;
        lastLoginIp: string | null;
        failedLogins: number;
        failedLoginAttempts: number;
        lockedUntil: Date | null;
        passwordChangedAt: Date | null;
        role: import("@prisma/client").$Enums.UserRole;
        mfaEnabled: boolean;
        mfaSecret: string | null;
        mfaBackupCodes: string[];
        userType: import("@prisma/client").$Enums.UserType;
        preferences: import("@prisma/client/runtime/library").JsonValue;
        timezone: string;
        locale: string;
        tenantId: string;
        departmentId: string | null;
        orgUnitId: string | null;
    })[]>;
    createInternalUser(tenantId: string, createUserDto: CreateUserDto): Promise<UserResponseDto>;
    getDepartmentUsers(tenantId: string, departmentId: string, includeExternal?: boolean): Promise<({
        tenant: {
            id: string;
            name: string;
            maxUsers: number | null;
            maxProjects: number | null;
            isActive: boolean;
            createdAt: Date;
            updatedAt: Date;
            slug: string;
            domain: string | null;
            status: import("@prisma/client").$Enums.TenantStatus;
            isTrial: boolean;
            trialExpiresAt: Date | null;
            mfaRequired: boolean;
            passwordPolicy: import("@prisma/client/runtime/library").JsonValue;
            sessionTimeout: number;
            complianceFrameworks: string[];
            dataResidency: string | null;
            apiQuotaDaily: number;
            webhookUrl: string | null;
            settings: import("@prisma/client/runtime/library").JsonValue;
            deletedAt: Date | null;
            planId: string | null;
        };
        department: {
            id: string;
            name: string;
            description: string | null;
            isActive: boolean;
            createdAt: Date;
            updatedAt: Date;
            tenantId: string;
            parentId: string | null;
            costCenter: string | null;
            manager: string | null;
        } | null;
    } & {
        id: string;
        name: string | null;
        displayName: string | null;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.UserStatus;
        deletedAt: Date | null;
        email: string;
        firstName: string;
        lastName: string;
        avatar: string | null;
        title: string | null;
        phone: string | null;
        password: string | null;
        passwordHash: string | null;
        isEmailVerified: boolean;
        isVerified: boolean;
        emailVerificationToken: string | null;
        passwordResetToken: string | null;
        passwordResetExpiresAt: Date | null;
        lastLoginAt: Date | null;
        lastLoginIp: string | null;
        failedLogins: number;
        failedLoginAttempts: number;
        lockedUntil: Date | null;
        passwordChangedAt: Date | null;
        role: import("@prisma/client").$Enums.UserRole;
        mfaEnabled: boolean;
        mfaSecret: string | null;
        mfaBackupCodes: string[];
        userType: import("@prisma/client").$Enums.UserType;
        preferences: import("@prisma/client/runtime/library").JsonValue;
        timezone: string;
        locale: string;
        tenantId: string;
        departmentId: string | null;
        orgUnitId: string | null;
    })[]>;
    getUsersByRole(tenantId: string, role: UserRole): Promise<({
        tenant: {
            id: string;
            name: string;
            maxUsers: number | null;
            maxProjects: number | null;
            isActive: boolean;
            createdAt: Date;
            updatedAt: Date;
            slug: string;
            domain: string | null;
            status: import("@prisma/client").$Enums.TenantStatus;
            isTrial: boolean;
            trialExpiresAt: Date | null;
            mfaRequired: boolean;
            passwordPolicy: import("@prisma/client/runtime/library").JsonValue;
            sessionTimeout: number;
            complianceFrameworks: string[];
            dataResidency: string | null;
            apiQuotaDaily: number;
            webhookUrl: string | null;
            settings: import("@prisma/client/runtime/library").JsonValue;
            deletedAt: Date | null;
            planId: string | null;
        };
        department: {
            id: string;
            name: string;
            description: string | null;
            isActive: boolean;
            createdAt: Date;
            updatedAt: Date;
            tenantId: string;
            parentId: string | null;
            costCenter: string | null;
            manager: string | null;
        } | null;
    } & {
        id: string;
        name: string | null;
        displayName: string | null;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.UserStatus;
        deletedAt: Date | null;
        email: string;
        firstName: string;
        lastName: string;
        avatar: string | null;
        title: string | null;
        phone: string | null;
        password: string | null;
        passwordHash: string | null;
        isEmailVerified: boolean;
        isVerified: boolean;
        emailVerificationToken: string | null;
        passwordResetToken: string | null;
        passwordResetExpiresAt: Date | null;
        lastLoginAt: Date | null;
        lastLoginIp: string | null;
        failedLogins: number;
        failedLoginAttempts: number;
        lockedUntil: Date | null;
        passwordChangedAt: Date | null;
        role: import("@prisma/client").$Enums.UserRole;
        mfaEnabled: boolean;
        mfaSecret: string | null;
        mfaBackupCodes: string[];
        userType: import("@prisma/client").$Enums.UserType;
        preferences: import("@prisma/client/runtime/library").JsonValue;
        timezone: string;
        locale: string;
        tenantId: string;
        departmentId: string | null;
        orgUnitId: string | null;
    })[]>;
    activateUser(tenantId: string, userId: string): Promise<UserResponseDto>;
    deactivateUser(tenantId: string, userId: string): Promise<UserResponseDto>;
    getUserAnalytics(tenantId: string): Promise<{
        totalUsers: number;
        activeUsers: number;
        inactiveUsers: number;
        usersByRole: (import("@prisma/client").Prisma.PickEnumerable<import("@prisma/client").Prisma.UserGroupByOutputType, "role"[]> & {
            _count: number;
        })[];
        usersByType: (import("@prisma/client").Prisma.PickEnumerable<import("@prisma/client").Prisma.UserGroupByOutputType, "userType"[]> & {
            _count: number;
        })[];
    }>;
    private toUserResponse;
}
